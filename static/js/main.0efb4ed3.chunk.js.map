{"version":3,"sources":["Database/fetcher.js","Database/Database.js","reducers/articleReducer.js","reducers/layoutReducer.js","reducers/index.js","Components/Header/Header.js","Components/Layout.js","Components/MainPage/Sidebar/Article/Article.js","Components/MainPage/Sidebar/Sidebar.js","Components/MainPage/BlogTable/LayoutArticle/LayoutArticle.js","helpers/generateUniqueId.js","Components/MainPage/BlogTable/BlogTable.js","Components/MainPage/MainPage.js","Components/Posts/PostsContainer/PostContainer.js","Components/Posts/Posts.js","Components/WriteBlog/WriteBlog.js","Components/ViewPost/ViewPost.js","Components/Routes.js","Components/App.js","index.js"],"names":["get","_ref","Object","D_UCU_IndustrialWeb_WebCourseProject_drag_n_blog_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_UCU_IndustrialWeb_WebCourseProject_drag_n_blog_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","url","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","this","_x","apply","arguments","post","_ref2","_callee2","data","_context2","headers","content-type","body","JSON","stringify","method","_x2","_x3","put","_ref3","_callee3","_context3","_x4","_x5","del","_ref4","_callee4","_context4","_x6","_x7","fetcher","require","Database","_this","classCallCheck","create","asyncToGenerator","regenerator_default","article","id","title","content","author","tags","date","dateToString","Date","createFromJson","forEach","el","normalizeSingle","resp","normalize","toISOString","substring","articleReducer","state","length","undefined","action","type","concat","toConsumableArray","filter","newState","assign","keys","key","layoutReducer","combineReducers","MainButton","react_default","createElement","Link","to","className","Header","placeholder","Route","exact","path","component","NavLink","activeClassName","children","Layout","props","Components_Header_Header","itemSource","beginDrag","console","log","endDrag","monitor","dropResult","getDropResult","containerId","itemDeleter","Article","_this$props","isDragging","connectDragSource","opacity","style","onClick","pathname","split","slice","join","Component","DragSource","connect","dragSource","connectDragPreview","dragPreview","Sidebar","possibleConstructorReturn","getPrototypeOf","call","deleteItem","dataBase","serverUrl","articles","item","setState","delete","addItem","update","$push","getHoveredColor","hovered","canDrop","_this2","then","_this3","connectDropTarget","backgroundColor","background","map","Sidebar_Article_Article","DropTarget","drop","getItem","dropTarget","isOver","LayoutArticle","addItemToContainer","updateArticle","checkIfEmpty","onClickRemove","removeArticle","flow","articleId","result","layoutArticles","generateUniqueId","Math","random","toString","substr","BlogTable","addArticleToLayout","newItem","updateArticleInLayout","removeArticleFromLayout","BlogTable_LayoutArticle_LayoutArticle","DragDropContext","HTML5Backend","MainPage_Sidebar_Sidebar","MainPage_BlogTable_BlogTable","PostContainer","Posts","postsContainers","postContainer","Posts_PostsContainer_PostContainer","WriteBlog","handleTagsDelete","i","tag","index","handleTagsAddition","handleSubmit","event","database","location","history","push","preventDefault","handleChange","defineProperty","target","name","value","keyCodes","delimiters","comma","enter","onSubmit","onChange","defaultValue","ReactTags","handleDelete","handleAddition","allowDragDrop","react_autosize_textarea_lib_default","defaultProps","ViewPost","text","Routes","MainPage","App","BrowserRouter","Components_Layout","Components_Routes","store","createStore","rootReducer","getState","ReactDOM","render","es","Components_App","document","getElementById"],"mappings":"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","file":"static/js/main.0efb4ed3.chunk.js","sourcesContent":["export const get = async url => await (await fetch(url)).json();\r\n\r\nexport const post = async (url, data) =>\r\n  await (await fetch(url, {\r\n    headers: { 'content-type': 'application/json; charset=UTF-8' },\r\n    body: JSON.stringify(data),\r\n    method: 'POST',\r\n  })).json();\r\n\r\nexport const put = async (url, data) =>\r\n  await (await fetch(url, {\r\n    headers: { 'content-type': 'application/json; charset=UTF-8' },\r\n    body: JSON.stringify(data),\r\n    method: 'PUT',\r\n  })).json();\r\n\r\nexport const del = async (url, data) =>\r\n  await (await fetch(url, {\r\n    headers: { 'content-type': 'application/json; charset=UTF-8' },\r\n    body: JSON.stringify(data),\r\n    method: 'DELETE',\r\n  })).json();","const fetcher = require('./fetcher')\r\n\r\nexport default class Database {\r\n  constructor(url) {\r\n    this.url = url\r\n  }\r\n\r\n  static normalizeSingle(data) {\r\n    data.date = new Date(data.date)\r\n    return data\r\n  }\r\n\r\n  normalize(data) {\r\n    data.forEach(el => Database.normalizeSingle(el))\r\n    return data\r\n  }\r\n\r\n  static dateToString(date) {\r\n    return date.toISOString().substring(0, 10)\r\n  }\r\n\r\n  async get(url) {\r\n    let resp = await fetcher.get(url)\r\n    return this.normalize(resp)\r\n  }\r\n\r\n  async getById(id) {\r\n    return await this.get(this.url + '?' + 'id=' + id)\r\n  }\r\n\r\n  async createFromJson(data) {\r\n    let resp = await fetcher.post(this.url, data)\r\n    return Database.normalizeSingle(resp)\r\n  }\r\n\r\n  create = async (article) => {\r\n    const { id, title, content, author, tags } = article\r\n    const date = Database.dateToString(new Date())\r\n    return await this.createFromJson({\r\n      id,\r\n      title,\r\n      content,\r\n      date,\r\n      author,\r\n      tags,\r\n    })\r\n  }\r\n\r\n  async update(id, article) {\r\n    let resp = await fetcher.put(this.url + '/' + id, {\r\n      title: article.title,\r\n      content: article.content,\r\n      date: Database.dateToString(new Date()),\r\n      author: article.author,\r\n      tags: article.tags,\r\n    })\r\n    return Database.normalizeSingle(resp)\r\n  }\r\n\r\n  async delete(id) {\r\n    let resp = await fetcher.del(this.url + '/' + id)\r\n    return Database.normalizeSingle(resp)\r\n  }\r\n}\r\n","import Database from '../Database/Database'\r\n\r\nconst articleReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ADD_ARTICLE':\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.id,\r\n          title: action.title,\r\n          content: action.content,\r\n          date: action.date,\r\n          author: action.author,\r\n          tags: action.tags,\r\n        },\r\n      ]\r\n    case 'REMOVE_ARTICLE':\r\n      return state.filter(article => article.id !== action.id)\r\n    case 'UPDATE_ARTICLE':\r\n      const newState = Object.assign({}, state)\r\n      Object.keys(newState).forEach(key => {\r\n        if (newState[key].id === action.id) {\r\n          newState[key].title = action.title\r\n          newState[key].content = action.content\r\n          newState[key].date = Database.dateToString(new Date())\r\n          newState[key].author = action.author\r\n          newState[key].tags = action.tags\r\n        }\r\n      })\r\n      return newState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default articleReducer\r\n","import Database from '../Database/Database'\r\n\r\nconst layoutReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ADD_LAYOUT_ARTICLE':\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.id,\r\n          title: action.title,\r\n          content: action.content,\r\n          date: action.date,\r\n          author: action.author,\r\n          tags: action.tags,\r\n        },\r\n      ]\r\n    case 'REMOVE_LAYOUT_ARTICLE':\r\n      return state.filter(article => article.id !== action.id)\r\n    case 'UPDATE_LAYOUT_ARTICLE':\r\n      const newState = Object.assign({}, state)\r\n      Object.keys(newState).forEach(key => {\r\n        if (newState[key].id === action.id) {\r\n          newState[key].title = action.title\r\n          newState[key].content = action.content\r\n          newState[key].date = Database.dateToString(new Date())\r\n          newState[key].author = action.author\r\n          newState[key].tags = action.tags\r\n        }\r\n      })\r\n      return newState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default layoutReducer\r\n","import { combineReducers } from 'redux'\r\n\r\nimport articleReducer from './articleReducer'\r\nimport layoutReducer from './layoutReducer'\r\n\r\nexport default combineReducers({\r\n  articleReducer,\r\n  layoutReducer,\r\n})","import React from 'react'\r\nimport { NavLink, Link, Route } from 'react-router-dom'\r\n\r\nimport './Header.scss'\r\n\r\nconst MainButton = () => (\r\n  <Link to={'/write_blog'} className={'Header__write-blog'}>\r\n    <span className={'Header__write-blog_centered'}>Write New Blog!</span>\r\n  </Link>\r\n)\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className={'Header'}>\r\n      <div className={'Header__top-content'}>\r\n        <div className={'Header__top-content_left'}>\r\n          <h1 className={'Header__logo Header__logo_main'}>Drag'n'Blog</h1>\r\n          <p className={'Header__logo Header__logo_secondary'}>flexible-blog</p>\r\n        </div>\r\n        <div className={'Header__top-content_right'}>\r\n          <form action=\"\" className={'Header__search'}>\r\n            <input\r\n              className={'Header__input'}\r\n              placeholder=\"Search\"\r\n            />\r\n          </form>\r\n          <Route exact path={'/'} component={MainButton}/>\r\n          <Route exact path={'/layout'} component={MainButton}/>\r\n          <Link to={'/'} className={'Header__user'}>User</Link>\r\n        </div>\r\n      </div>\r\n      <nav className={'Header__navigation'}>\r\n        <NavLink\r\n          exact\r\n          to={'/'}\r\n          className={'Header__nav-link'}\r\n          activeClassName={'Header__nav-link_active'}\r\n          children={'Home'}/>\r\n        <NavLink\r\n          to={'/layout'}\r\n          className={'Header__nav-link'}\r\n          activeClassName={'Header__nav-link_active'}\r\n          children={'Posts'}/>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nimport Header from './Header'\r\n\r\nimport '../css-grid/grid.scss'\r\n\r\nconst Layout = (props) => {\r\n  return (\r\n    <div className={'container_12'}>\r\n      <header className={'grid_12'}>\r\n        <Header/>\r\n      </header>\r\n        {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout","import React, { Component } from 'react'\r\nimport { DragSource } from 'react-dnd'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './Article.scss'\r\n\r\nconst itemSource = {\r\n  beginDrag(props) {\r\n    console.log(props)\r\n    return props.article\r\n  },\r\n\r\n  endDrag(props, monitor) {\r\n    const dropResult = monitor.getDropResult()\r\n\r\n    if (dropResult && dropResult.containerId !== props.containerId) {\r\n      props.itemDeleter(props.article.id)\r\n    }\r\n  },\r\n}\r\n\r\nconst collect = (connect, monitor) => {\r\n  return {\r\n    connectDragSource: connect.dragSource(),\r\n    connectDragPreview: connect.dragPreview(),\r\n    isDragging: monitor.isDragging(),\r\n  }\r\n}\r\n\r\nclass Article extends Component {\r\n  render() {\r\n    const { isDragging, connectDragSource, article } = this.props\r\n    const opacity = isDragging ? 0 : 1\r\n\r\n    return connectDragSource(\r\n      <li className={'Article'} style={{ opacity }}>\r\n        <h4 className={'Article__title'}>{article.title}</h4>\r\n        <div className={'Article__modifiers'}>\r\n          <button className={'Article__remove'} onClick={() => this.props.itemDeleter(article.id)}>X</button>\r\n          <Link to={{ pathname: '/write_blog', state: { data: article } }}\r\n                className={'Article__edit'}>Edit</Link>\r\n        </div>\r\n        <p className={'Article__content'}>{article.content.split(' ').slice(0, 50).join(' ')}</p>\r\n        <small className={'Article__author'}>{article.author}</small>\r\n        <time className={'Article__date'}>{article.date}</time>\r\n      </li>,\r\n    )\r\n  }\r\n}\r\n\r\nexport default DragSource('Article', itemSource, collect)(Article)","import React, { Component } from 'react'\r\nimport { DropTarget } from 'react-dnd'\r\nimport update from 'immutability-helper'\r\n\r\nimport Article from './Article'\r\n\r\nimport Database from '../../../Database/Database'\r\n\r\nimport './Sidebar.scss'\r\n\r\nconst itemTarget = {\r\n  drop(props, monitor, component) {\r\n    const { containerId } = props\r\n\r\n    const result = component.state.articles.filter(item => {\r\n      return item.id === monitor.getItem().id\r\n    })\r\n\r\n    if (result.length === 0)\r\n      component.addItem(monitor.getItem())\r\n\r\n    return {\r\n      containerId: containerId,\r\n    }\r\n  },\r\n\r\n  canDrop(props, monitor) {\r\n    return (monitor.getItem().content !== '')\r\n  },\r\n}\r\n\r\n\r\nconst collect = (connect, monitor) => {\r\n  return {\r\n    connectDropTarget: connect.dropTarget(),\r\n    hovered: monitor.isOver(),\r\n    item: monitor.getItem(),\r\n    canDrop: monitor.canDrop(),\r\n  }\r\n}\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      articles: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(this.props.serverUrl + 'articles')\r\n      .then(resp => resp.json())\r\n      .then(json => {\r\n        this.setState({ articles: json })\r\n      })\r\n  }\r\n\r\n  deleteItem = (id) => {\r\n    const dataBase = new Database(this.props.serverUrl + 'articles')\r\n    let newState = this.state.articles.filter(item => item.id !== id)\r\n\r\n    this.setState({ articles: newState })\r\n    dataBase.delete(id)\r\n  }\r\n\r\n  addItem = (data) => {\r\n    const dataBase = new Database(this.props.serverUrl + 'articles')\r\n\r\n    this.setState(update(this.state, {\r\n      articles: {\r\n        $push: [data],\r\n      },\r\n    }))\r\n\r\n    dataBase.create(data)\r\n  }\r\n\r\n  getHoveredColor = (hovered, canDrop) => {\r\n    if (hovered && canDrop)\r\n      return '#2ecc71'\r\n    else if (hovered && !canDrop)\r\n      return '#e74c3c'\r\n    else\r\n      return '#ecf0f1'\r\n  }\r\n\r\n  render() {\r\n    const { connectDropTarget, hovered, canDrop, containerId } = this.props\r\n    const { articles } = this.state\r\n\r\n    const backgroundColor = this.getHoveredColor(hovered, canDrop)\r\n\r\n    return connectDropTarget(\r\n      <aside className={'Sidebar'} style={{ background: backgroundColor }}>\r\n        <ul className={'Sidebar__blog-list'}>\r\n          {articles.map((article) => (\r\n            <Article article={article}\r\n                     key={article.id}\r\n                     containerId={containerId}\r\n                     itemDeleter={this.deleteItem}/>\r\n          ))}\r\n        </ul>\r\n      </aside>,\r\n    )\r\n  }\r\n}\r\n\r\nexport default DropTarget('Article', itemTarget, collect)(Sidebar)","import React, { Component } from 'react'\r\nimport { DropTarget, DragSource } from 'react-dnd'\r\nimport flow from 'lodash/flow'\r\n\r\nimport Database from '../../../../Database/Database'\r\n\r\nimport './LayoutArticle.scss'\r\n\r\nconst itemSource = {\r\n  beginDrag(props) {\r\n    return props.article\r\n  },\r\n\r\n  endDrag(props, monitor) {\r\n    if (monitor.getDropResult() === null) return\r\n\r\n    if (monitor.getDropResult() !== props.articleId) {\r\n      props.removeArticle(props.article.id)\r\n    }\r\n  },\r\n}\r\n\r\nconst itemTarget = {\r\n  drop(props, monitor, component) {\r\n    const { articleId } = props\r\n\r\n    if (articleId === 2)\r\n      component.addItemToContainer(\r\n        props.article.id,\r\n        monitor.getItem(),\r\n        props.serverUrl,\r\n      )\r\n\r\n    return {\r\n      articleId: articleId,\r\n    }\r\n  },\r\n\r\n  canDrop(props, monitor) {\r\n    const result = props.layoutArticles.filter(\r\n      article => article.id === monitor.getItem().id,\r\n    )\r\n    return props.article.content === '' && result.length === 0\r\n  },\r\n}\r\n\r\nconst collect = (connect, monitor) => {\r\n  return {\r\n    connectDropTarget: connect.dropTarget(),\r\n    hovered: monitor.isOver(),\r\n    item: monitor.getItem(),\r\n    canDrop: monitor.canDrop(),\r\n  }\r\n}\r\n\r\nclass LayoutArticle extends Component {\r\n  addItemToContainer = (id, data, url) => {\r\n    const dataBase = new Database(url + 'layoutContainers')\r\n\r\n    this.props.updateArticle(id, data)\r\n    dataBase.update(id, data)\r\n  }\r\n\r\n  getHoveredColor = (hovered, canDrop) => {\r\n    if (hovered && canDrop) return '#2ecc71'\r\n    else if (hovered && !canDrop) return '#e74c3c'\r\n    else return 'white'\r\n  }\r\n\r\n  checkIfEmpty = (article, backgroundColor, onClickRemove) => {\r\n    return article.content ? (\r\n      <div className={'LayoutArticle'} style={{ background: backgroundColor }}>\r\n        <h2 className={'LayoutArticle__title'}>{article.title}</h2>\r\n        <button\r\n          className={'LayoutArticle__remove'}\r\n          onClick={() => onClickRemove(article.id)}\r\n        >\r\n          X\r\n        </button>\r\n        <p className={'LayoutArticle__content'}>\r\n          {article.content\r\n            .split(' ')\r\n            .slice(0, 100)\r\n            .join(' ')}\r\n        </p>\r\n        <small className={'LayoutArticle__author'}>{article.author}</small>\r\n        <time className={'LayoutArticle__date'}>{article.date}</time>\r\n      </div>\r\n    ) : (\r\n      <div className={'LayoutArticle'} style={{ background: backgroundColor }}>\r\n        Container\r\n        <button\r\n          className={'LayoutArticle__remove'}\r\n          onClick={() => onClickRemove(article.id)}\r\n        >\r\n          X\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      connectDropTarget,\r\n      connectDragSource,\r\n      hovered,\r\n      canDrop,\r\n      article,\r\n    } = this.props\r\n    const backgroundColor = this.getHoveredColor(hovered, canDrop)\r\n\r\n    return connectDragSource(\r\n      connectDropTarget(\r\n        this.checkIfEmpty(\r\n          article,\r\n          backgroundColor,\r\n          this.props.removeArticle,\r\n        ),\r\n      ),\r\n    )\r\n  }\r\n}\r\n\r\nexport default flow(\r\n  DropTarget('Article', itemTarget, collect),\r\n  DragSource('Article', itemSource, (connect, monitor) => ({\r\n    connectDragSource: connect.dragSource(),\r\n    connectDragPreview: connect.dragPreview(),\r\n    isDragging: monitor.isDragging(),\r\n  })),\r\n)(LayoutArticle)","export const generateUniqueId = () =>\r\n  '_' + Math.random().toString(36).substr(2, 7)\r\n","import React, { Component } from 'react'\r\nimport update from 'immutability-helper'\r\n\r\nimport LayoutArticle from './LayoutArticle'\r\n\r\nimport { generateUniqueId } from '../../../helpers/generateUniqueId'\r\nimport Database from '../../../Database/Database'\r\n\r\nimport './BlogTable.scss'\r\n\r\nclass BlogTable extends Component {\r\n  state = {\r\n    layoutArticles: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(this.props.serverUrl + 'layoutContainers')\r\n      .then(resp => resp.json())\r\n      .then(json => {\r\n        this.setState({ layoutArticles: json })\r\n      })\r\n  }\r\n\r\n  addArticleToLayout = () => {\r\n    const dataBase = new Database(this.props.serverUrl + 'layoutContainers')\r\n\r\n    const newItem = {\r\n      title: '',\r\n      content: '',\r\n      date: Database.dateToString(new Date()),\r\n      author: '',\r\n      id: generateUniqueId(),\r\n    }\r\n\r\n    this.setState(\r\n      update(this.state, {\r\n        layoutArticles: {\r\n          $push: [newItem],\r\n        },\r\n      }),\r\n    )\r\n\r\n    dataBase.create(newItem)\r\n  }\r\n\r\n  updateArticleInLayout = (id, data) => {\r\n    const newState = Object.assign({}, this.state.layoutArticles)\r\n\r\n    Object.keys(newState).forEach(key => {\r\n      if (newState[key].id === id) {\r\n        newState[key].title = data.title\r\n        newState[key].content = data.content\r\n        newState[key].date = Database.dateToString(new Date())\r\n        newState[key].author = data.author\r\n      }\r\n    })\r\n\r\n    this.setState({ newState })\r\n  }\r\n\r\n  removeArticleFromLayout = id => {\r\n    const dataBase = new Database(this.props.serverUrl + 'layoutContainers')\r\n    const newState = this.state.layoutArticles.filter(article => article.id !== id)\r\n\r\n    this.setState({ layoutArticles: newState })\r\n    dataBase.delete(id)\r\n  }\r\n\r\n  render() {\r\n    const { serverUrl, containerId } = this.props\r\n    const { layoutArticles } = this.state\r\n\r\n    return (\r\n      <div className={'BlogTable'}>\r\n        {layoutArticles.map(article => (\r\n          <LayoutArticle\r\n            layoutArticles={layoutArticles}\r\n            article={article}\r\n            articleId={containerId}\r\n            key={article.id}\r\n            serverUrl={serverUrl}\r\n            updateArticle={this.updateArticleInLayout}\r\n            removeArticle={this.removeArticleFromLayout}\r\n          />\r\n        ))}\r\n        <button\r\n          className={'BlogTable__add-container'}\r\n          onClick={this.addArticleToLayout}\r\n        >\r\n          Add container\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlogTable","import React from 'react'\r\nimport { DragDropContext } from 'react-dnd'\r\nimport HTML5Backend from 'react-dnd-html5-backend'\r\n\r\nimport Sidebar from './Sidebar'\r\nimport BlogTable from './BlogTable'\r\n\r\nimport './MainPage.scss'\r\n\r\nconst jsonServerUrl = 'http://localhost:3001/'\r\n\r\nconst MainPage = () => {\r\n  return (\r\n    <main className={'MainPage'}>\r\n      <Sidebar containerId={1} serverUrl={jsonServerUrl}/>\r\n      <BlogTable containerId={2} serverUrl={jsonServerUrl}/>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default DragDropContext(HTML5Backend)(MainPage)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './PostContainer.scss'\r\n\r\nconst PostContainer = (props) => {\r\n  const { post } = props\r\n\r\n  return (\r\n    <Link to={{ pathname: '/view_post', state: { data: post } }} className={'PostContainer'}>\r\n      <h2 className={'PostContainer__title'}>{post.title}</h2>\r\n      <p className={'PostContainer__content'}>{post.content.split(' ').slice(0, 100).join(' ')}</p>\r\n      <small className={'PostContainer__author'}>{post.author}</small>\r\n      <time className={'PostContainer__date'}>{post.date}</time>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default PostContainer","import React, { Component } from 'react'\r\n\r\nimport PostContainer from './PostsContainer'\r\n\r\nexport default class Posts extends Component {\r\n  state = {\r\n    postsContainers: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch('http://localhost:3001/layoutContainers')\r\n      .then(resp => resp.json())\r\n      .then(json => {\r\n        this.setState({ postsContainers: json })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { postsContainers } = this.state\r\n\r\n    return (\r\n      postsContainers.map(postContainer => (\r\n        <PostContainer post={postContainer} key={postContainer.id}/>\r\n      ))\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport TextareaAutosize from 'react-autosize-textarea'\r\nimport { WithContext as ReactTags } from 'react-tag-input'\r\n\r\nimport Database from '../../Database/Database'\r\nimport { generateUniqueId } from '../../helpers/generateUniqueId'\r\n\r\nimport './WriteBlog.scss'\r\n\r\nexport default class WriteBlog extends Component {\r\n  static defaultProps = {\r\n    keyCodes: {\r\n      comma: 188,\r\n      enter: 13,\r\n    },\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = props.location.state ?\r\n      props.location.state.data :\r\n      {\r\n        id: generateUniqueId(),\r\n        title: '',\r\n        content: '',\r\n        author: '',\r\n        tags: [],\r\n      }\r\n  }\r\n\r\n  handleTagsDelete = i => {\r\n    const { tags } = this.state\r\n    this.setState({\r\n      tags: tags.filter((tag, index) => index !== i),\r\n    })\r\n  }\r\n\r\n  handleTagsAddition = tag => {\r\n    this.setState(state => ({ tags: [...state.tags, tag] }))\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    const database = new Database('http://localhost:3001/articles')\r\n    const { id } = this.state\r\n    if (this.props.location.state === undefined)\r\n      database.create(this.state)\r\n    else\r\n      database.update(id, this.state)\r\n\r\n    this.props.history.push('/')\r\n    event.preventDefault()\r\n  }\r\n\r\n  handleChange = event => {\r\n    event.preventDefault()\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { keyCodes } = this.props\r\n    const delimiters = [keyCodes.comma, keyCodes.enter]\r\n    const { tags } = this.state\r\n    return (\r\n      <form className={'WriteBlog'} onSubmit={this.handleSubmit}>\r\n        <input\r\n          className=\"WriteBlog__title\"\r\n          placeholder=\"Title\"\r\n          name={'title'}\r\n          onChange={this.handleChange}\r\n          defaultValue={this.state.title}\r\n        />\r\n        <input\r\n          className=\"WriteBlog__author\"\r\n          placeholder=\"Author\"\r\n          name={'author'}\r\n          onChange={this.handleChange}\r\n          defaultValue={this.state.author}\r\n        />\r\n        <div>\r\n          <ReactTags\r\n            tags={tags}\r\n            placeholder={'#add tags'}\r\n            handleDelete={this.handleTagsDelete}\r\n            handleAddition={this.handleTagsAddition}\r\n            delimiters={delimiters}\r\n            allowDragDrop={false}\r\n          />\r\n        </div>\r\n        <div>\r\n          <TextareaAutosize\r\n            className={'WriteBlog__content'}\r\n            name=\"content\"\r\n            placeholder={'Tell us your story...'}\r\n            onChange={this.handleChange}\r\n            defaultValue={this.state.content}\r\n          />\r\n        </div>\r\n        <button className={'WriteBlog__publish-button'} type=\"submit\">\r\n          Ready To Publish?\r\n        </button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"../../css-grid/grid.scss\";\r\n\r\nimport \"./ViewPost.scss\"\r\n\r\nconst ViewPost = props => {\r\n  const article  = props.location.state.data;\r\n  return (\r\n    <div className={\"ViewPost\"}>\r\n      <h1 className={\"ViewPost__title\"}>{article.title}</h1>\r\n      <h3 className={\"ViewPost__author\"}>{article.author}</h3>\r\n      <p className={\"ViewPost__content\"}>{article.content}</p>\r\n      <ul className={\"ViewPost__tags\"}>\r\n        {article.tags.map(tag => (\r\n          <li className={\"ViewPost__tags_tag\"}>{tag.text}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ViewPost;\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\n\r\nimport MainPage from './MainPage'\r\nimport Posts from './Posts'\r\nimport WriteBlog from './WriteBlog'\r\nimport ViewPost from './ViewPost/ViewPost'\r\n\r\nimport '../css-grid/grid.scss'\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <main className={'grid_12'}>\r\n      <Route exact path={'/'} component={MainPage}/>\r\n      <Route path={'/layout'} component={Posts}/>\r\n      <Route path={'/write_blog'} component={WriteBlog}/>\r\n      <Route path={'/view_post'} component={ViewPost}/>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Routes","import React from 'react'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport Layout from './Layout'\r\nimport Routes from './Routes'\r\n\r\nconst App = () => (\r\n  <Router>\r\n    <Layout>\r\n      <Routes/>\r\n    </Layout>\r\n  </Router>\r\n)\r\n\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\n\nimport rootReducer from './reducers'\nimport App from './Components/App'\n\nconst store = createStore(rootReducer)\nconsole.log(store.getState())\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('root'),\n)\n\n"],"sourceRoot":""}